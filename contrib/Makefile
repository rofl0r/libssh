#Makefile autogenerated by rofl0rs makefilegen
exec_prefix = /usr/local
bindir = $(exec_prefix)/bin

prefix = /usr/local/
includedir = $(prefix)/include
libdir = $(prefix)/lib

SRCS=$(sort $(wildcard src/*.c))
OBJS=$(SRCS:.c=.o)
LOBJS=$(OBJS:.o=.lo)
SONAME=libssh5.so
ANAME=libssh5.a
ALL_LIBS=$(SONAME) $(ANAME)
SOFLAGS=-fPIC -shared
AR      = $(CROSS_COMPILE)ar
RANLIB  = $(CROSS_COMPILE)ranlib
OBJCOPY = $(CROSS_COMPILE)objcopy
ALL_INCLUDES = -I./include
ALL_LINKS = -lssl -lcrypto -lz
-include config.mak

all: $(ALL_LIBS) 

clean:
	rm -f $(OBJS)
	rm -f $(LOBJS)
	rm -f $(ALL_LIBS)

%.o: %.c
	$(CC) $(CFLAGS) $(ALL_INCLUDES) -c -o $@ $<

%.lo: %.c
	$(CC) $(CFLAGS) $(SOFLAGS) $(ALL_INCLUDES) -c -o $@ $<

$(ANAME): $(OBJS)
	rm -f $@
	$(AR) rc $@ $(OBJS)
	$(RANLIB) $@

$(SONAME): $(LOBJS)
	${CC} $(SOFLAGS) $(CFLAGS) -Wl,-soname=$(SONAME) -o $(SONAME) $(LOBJS) $(ALL_LINKS)


.PHONY: all clean 
